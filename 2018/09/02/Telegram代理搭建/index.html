<!--
	作者：Sariay
	时间：2018-09-25
	描述：There may be a bug, but don't worry, QiLing(器灵) says that it can work normally!
-->
<!DOCTYPE html>
<html class="html-loading">
		

<head>
	<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <title>
    
      Telegram代理搭建 | F7ionsy&#39;s blog
    
  </title>
  <meta name="author" content="F7ionsy">
  <meta name="keywords" content="" />
  <meta name="description" content="" />
	<!-- favicon -->
  <link rel="shortcut icon" href="/img/favicon.ico">

  <!-- css -->
  <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/Annie.css">
  
  <!-- jquery -->
	<script src="/js/jquery.min.js"></script>

  <!-- leancloud -->
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
<script src="/js/leancloud.js"></script>
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>
	<body>
		<!-- Preloader -->

	<div id="preloader">
		<div class="pre-container">
			
				<div class="spinner">
					<div class="double-bounce1"></div>
					<div class="double-bounce2"></div>
				</div>
						
		</div>
	</div>


<!-- header -->
<header class="fixbackground" data-img-mode="normal" data-normal-src="/img/1.jpg" data-random-max="110" data-random-src="https://sariay.github.io/Random-img/">
	<div class="mask">
		<!-- Logo and navigation -->
		<div class="h-header">
			<div id="logo">
				<a href="/">
						
						<img src="/img/logo.png" alt="Logo">
					
				</a>
			</div>
			
			<div id="navigation-show">
				<ul>
	
		<li class="menu-home">
			<a href="/" class="menu-item-home">主页</a>
		</li>
	
		<li class="menu-archive">
			<a href="/archives" class="menu-item-archive">归档</a>
		</li>
	
		<li class="menu-categories">
			<a href="/categories" class="menu-item-categories">分类</a>
		</li>
	
		<li class="menu-tags">
			<a href="/tags" class="menu-item-tags">标签</a>
		</li>
	
		<li class="menu-about">
			<a href="/about" class="menu-item-about">关于</a>
		</li>
	
		<li class="menu-gallery">
			<a href="/gallery" class="menu-item-gallery">相册</a>
		</li>
	

	
</ul>
			</div>				
		</div>

		<!-- motto -->
		<div class="h-body">	
			
				<p class="motto"></p>
			
		</div>
		
		<!-- others: such as time... -->			
		<div class="h-footer">
			<a href="javascript:;" id="read-more"><i class="fa fa-angle-double-down" aria-hidden="true"></i>
			</a>

			
				<!-- 
	This is only a demo, please go to "https://time.is" to set your city time! 
-->
<style type="text/css">
	.header-date {
		font-size: 1.6rem;
		color: #fff;
		position: absolute;
		bottom: 5px;
		right: 1rem;
		writing-mode: tb-rl;
	}	
	
	.header-date a {
		border-bottom: none;
	}

	@media only screen and (max-width: 768 ) {
		.header-date {
			font-size: 1rem;
		}			
	}
</style>
<div class="header-date">
	<a href="https://time.is/Beijing" id="time_is_link" rel="nofollow" ></a>
	<span id="Beijing_z43d"></span>
</div>
<script src="//widget.time.is/zh.js"></script>
<script>
	time_is_widget.init({
		Beijing_z43d:{
			template:"DATE", 
			date_format:"year年 monthname dnum日"
		}
	});
</script>
			
		</div>
	</div>
</header>

<div id="navigation-hide">
	<!-- Progress bar -->
	<div id="progress-bar"></div>

	<!-- Progress percent -->
	<div id="progress-percentage"><h1>0.0%</h1></div>

	<div class="toc-switch"><span class="switch-button">目录</span></div>

	<!-- Page title -->
	<p>
		
			当前文章&nbsp;:&nbsp;《Telegram代理搭建》
		
	</p>

	<!-- Nav trigger for navigation-H-->
	<a class="nav-trigger"><span></span></a>
</div>

<!-- Navigation in div(id="navigation-H") -->
<nav class="nav-container" id="cd-nav">
	<div class="nav-header">
		<h3>Navigation</h3>
		<a href="javascript:;" class="nav-close"></a>
	</div>
	<div class="nav-body">
		<ul>
	
		<li class="menu-home">
			<a href="/" class="menu-item-home">主页</a>
		</li>
	
		<li class="menu-archive">
			<a href="/archives" class="menu-item-archive">归档</a>
		</li>
	
		<li class="menu-categories">
			<a href="/categories" class="menu-item-categories">分类</a>
		</li>
	
		<li class="menu-tags">
			<a href="/tags" class="menu-item-tags">标签</a>
		</li>
	
		<li class="menu-about">
			<a href="/about" class="menu-item-about">关于</a>
		</li>
	
		<li class="menu-gallery">
			<a href="/gallery" class="menu-item-gallery">相册</a>
		</li>
	

	
</ul>
	</div>
	<div class="nav-footer">
		<ul>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-github"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-weibo"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-pinterest"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-instagram"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-twitter"></i>
			</a>
		</li>
	
		<li>
			<a href="/atom.xml" target="_blank">
				<i class="fa fa-rss"></i>
			</a>
		</li>
			
</ul>

	</div>
</nav>
			
		<!--main-->
		<main>
			<!--
	时间：2018-11-17
	描述：
		插件名称：katelog.min.js
		插件作者：KELEN
		插件来源: https://github.com/KELEN/katelog
-->

	
		<div class="layout-toc">
			<div id="layout-toc">
				<div class="k-catelog-list" id="catelog-list" data-title="文章目录"></div>
			</div>
		</div>

		
		<script src="/plugin/toc/katelog.min.js"></script>

		
	 

<div class="layout-post">
	<div id="layout-post">
	<div class="article-title">
		<i class="fa fa-paper-plane-o" aria-hidden="true"></i>
		
	<a href="/2018/09/02/Telegram代理搭建/" itemprop="url">
		Telegram代理搭建
	</a>

	</div>

	<div class="article-meta">
		<span>
			<i class="fa fa-calendar"></i>
			


	发布于

	<a href="/2018/09/02/Telegram代理搭建/" itemprop="url">
		<time datetime="2018-09-02T14:29:40.000Z" itemprop="datePublished">
	  		2018-09-02
	  </time>
	</a>
	&nbsp;





			




	更新于

	<a href="/2018/09/02/Telegram代理搭建/" itemprop="url">
		<time datetime="2018-09-02T14:29:40.000Z" itemprop="dateUpdated">
	  		2018-09-29
	  </time>
	</a> 



		</span>
		<span>
			<i class="fa fa-tags"></i>
			
	
		<a href="/tags/Telegram/" class=" ">
			Telegram
		</a>
	
		
		</span>
		
		



	</div>

	<div class="article-content" id="article-content">
		<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><p>执行下面的代码下载并运行脚本。<br><code>wget -N --no-check-certificate https://softs.host/Bash/mtproxy.sh &amp;&amp; chmod +x mtproxy.sh &amp;&amp; bash mtproxy.sh</code><br>如果上面这个脚本无法下载，尝试使用备用下载：<br><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/mtproxy.sh &amp;&amp; chmod +x mtproxy.sh &amp;&amp; bash mtproxy.sh</code><br>运行脚本后会出现脚本操作菜单，选择并输入 <strong>1</strong> 就会开始安装。<br>    请输入 MTProxy 端口 [1-65535]</p>
<pre><code>(默认: 7000):
========================
    端口 :  7000
========================
请输入 MTProxy 密匙（手动输入必须为32位，[0-9][a-z][A-Z]，建议随机生成）
(默认：随机生成):
========================
    密码 :  xxxxx 
========================
请输入 MTProxy 的 TAG标签（TAG标签只有在通过官方机器人 @MTProxybot 分享代理账号后才会获得，不清楚请留空回车）
如果本机是NAT服务器（谷歌云、微软云、阿里云等），则请输入你的服务器内网IP，否则会导致无法使用。如果不是请直接回车！
(默认：回车跳过):
[信息] MTProxy 停止成功 !
[信息] MTProxy 启动中...
[信息] MTProxy 启动成功 !
————————————————
 Mtproto Proxy 信息 :
 地址    : x.x.x.x
 端口    : 7000
 密码    : xxxxx
 链接    : tg://proxy?server=xxxxxx...
 链接    : https://t.me/proxy?server=xxxxxx...
————————————————
</code></pre><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><p>进入下载脚本的目录并运行脚本：<br><code>./mtproxy.sh</code><br>然后选择你要执行的选项即可。<br>      MTProxy 一键管理脚本 [vX.X.X]<br>      —- Toyo | doub.io/shell-jc7 —-</p>
<pre><code>  0. 升级脚本
————————————
  1. 安装 MTProxy
  2. 更新 MTProxy
  3. 卸载 MTProxy
————————————
  4. 启动 MTProxy
  5. 停止 MTProxy
  6. 重启 MTProxy
————————————
  7. 设置 账号配置
  8. 查看 账号信息
  9. 查看 日志信息
 10. 查看 链接信息
————————————
 当前状态: 已安装 并 已启动
 请输入数字 [0-10]:
</code></pre><h2 id="其他操作"><a href="#其他操作" class="headerlink" title="其他操作"></a>其他操作</h2><p><strong>启动：</strong>/etc/init.d/mtproxy start</p>
<p><strong>停止：</strong>/etc/init.d/mtproxy stop</p>
<p><strong>重启：</strong>/etc/init.d/mtproxy restart</p>
<p><strong>查看状态：</strong>/etc/init.d/mtproxy status</p>
<p><strong>安装目录：</strong>/usr/local/mtproxy</p>
<p><strong>配置文件：</strong>/usr/local/mtproxy/mtproxy.conf</p>
<p><strong>日志文件：</strong>/usr/local/mtproxy/mtproxy.log</p>
<h3 id="编译失败，提示包含-xxxxx-option-“-std-gnu11”-错误"><a href="#编译失败，提示包含-xxxxx-option-“-std-gnu11”-错误" class="headerlink" title="编译失败，提示包含 xxxxx option “-std=gnu11” 错误"></a>编译失败，提示包含 xxxxx option “-std=gnu11” 错误</h3><p>当你安装 MTProxy 出现编译错误，并且编译错误信息中包含的有 <strong>ccl: error: unrecognized command line option “-std=gnu11”</strong> 类似内容（往往在编译错误这几个字的上方几条内），则说明是系统的 OpenSSL 版本过低，不支持部分编译参数。</p>
<p>出现这个错误基本上就是用了老旧的系统，例如：<strong>CentOS6 Debian6 Ubuntu12</strong><br>解决方法有两种：</p>
<ol>
<li>手动升级 OpenSSL （不推荐，依赖结构复杂）。</li>
<li>更换为更高版本的系统。</li>
</ol>
<h3 id="启动失败，日志提示-‘S’-option-requires-exactly-32-hex-digits-错误"><a href="#启动失败，日志提示-‘S’-option-requires-exactly-32-hex-digits-错误" class="headerlink" title="启动失败，日志提示 ‘S’ option requires exactly 32 hex digits 错误"></a>启动失败，日志提示 ‘S’ option requires exactly 32 hex digits 错误</h3><p>该问题只出现于自定义密码时，因为 MTProxy <strong>为了安全性而要求密码必须是 32位</strong>（多了少了都不行），如果数量不对就会提示这个，<strong>建议用脚本随机生成！</strong></p>
<h3 id="提示wget-unknown-host-“softs-host”-之类的错误"><a href="#提示wget-unknown-host-“softs-host”-之类的错误" class="headerlink" title="提示wget: unknown host “softs.host” 之类的错误"></a>提示wget: unknown host “softs.host” 之类的错误</h3><p>这是无法解析域名，多半是DNS的问题，请更换DNS为谷歌DNS(以下两行一起复制 一起执行)。<br><code>echo -e &quot;nameserver 8.8.8.8\nnameserver 8.8.4.4&quot; &gt; /etc/resolv.conf</code></p>
<h3 id="提示-wget-command-not-found-的错误"><a href="#提示-wget-command-not-found-的错误" class="headerlink" title="提示 wget: command not found 的错误"></a>提示 wget: command not found 的错误</h3><p>这是你的系统精简的太干净了，wget都没有安装，所以需要安装wget。</p>
<pre><code># CentOS系统:
yum install -y wget

# Debian/Ubuntu系统:
apt-get install -y wget
</code></pre><p><strong>本文转载自：</strong><a href="https://doub.io/" title="逗比根据地" target="_blank" rel="noopener">逗比根据地</a></p>
	
	</div>
	
	<div id="current-post-cover" data-scr="/img/telegram.png"></div>

	<!-- relate post, comment...-->
	<div class="investment-container">
		<div class="investment-header">
			<div class="investment-title-1">
				<div class="on">相关文章</div>
				<div>评论</div>
				<div>分享</div>
			</div>
			<div class="investment-title-2">	            
				
	<span>
		<a href="javascript: window.scrollTo(0, 0);">返回顶部</a>
		
			<a href="/2018/09/05/Markdown可视化编辑器/" title="Markdown可视化编辑器" rel="prev">
				&laquo;上一篇
			</a>
		
		
			<a href="/2018/09/01/ShadowsocksR安装教程/" title="ShadowsocksR安装教程" rel="next">
				下一篇&raquo;
			</a>
			
	</span>


      		
			</div>	
		</div>
		
		<div class="investment-content">
			<div class="investment-content-list">
				

<div class="relate-post">
	
		<ul>
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2018/09/05/Markdown可视化编辑器/" title="Markdown可视化编辑器">
								Markdown可视化编辑器			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								九月 5日, 2018				
							</p>
							<p class="relate-post-content">
								我自己的Markdown可视化编辑器我的在线编辑器：点击访问
  在学习用Markdown语法编写博客的过程中，发现没有一个可随时使用的可视化编辑器着实蹩脚。于是借助Editor.md开源在线 Markdown 编辑器，在博客中托管了...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2018/09/05/Markdown可视化编辑器/" title="Markdown可视化编辑器">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="img/Markdown.png" alt="Markdown可视化编辑器"/>
							</a>
						</div>
					</li>											
			
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2018/09/01/ShadowsocksR安装教程/" title="ShadowsocksR安装教程">
								ShadowsocksR安装教程			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								九月 1日, 2018				
							</p>
							<p class="relate-post-content">
								安装步骤本脚本需要Linux root账户权限才能正常安装运行，所以如果不是 root账号，请先切换为root，如果是 root账号，那么请跳过！sudo su输入上面代码回车后会提示你输入当前用户的密码，输入并回车后，没有报错就继续...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2018/09/01/ShadowsocksR安装教程/" title="ShadowsocksR安装教程">				
								
								<img class="lazy" src="/img/placeholder.jpg" data-src="img/ssr.png" alt="ShadowsocksR安装教程"/>
							</a>
						</div>
					</li>											
			
			
		</ul>
	
</div>	
			</div>
			<div class="investment-content-list">
				<div class="layout-comment">

	

		

			<!-- I don't know !!!-->
			<div>Please check the comment setting in config.yml of hexo-theme-Annie!</div>
			
		
		
	

</div>
			</div>
			<div class="investment-content-list">
				<div class="layout-share">
	
	

		
			
			<!-- socialShare share -->
			<div class="social-share"></div>

<!--  css & js -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
<script async src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
			
		
		
	
</div>


			</div>
		</div>	
	</div>
	</div>
</div>



	<!-- leancloud -->
	<!--
	时间：2018-11-27
	描述：
		文章访问量：visitors
		文章喜欢量：likes	
		文章排行榜：topNPost
		其他得说明：
			01-Cookie相关的函数 
				https://blog.csdn.net/somehow1002/article/details/78511541（Author：somehow1002）
			02-visitors相关的函数 
				https://blog.csdn.net/u013553529/article/details/63357382（Author：爱博客大伯）
				https://notes.doublemine.me/2015-10-21-为NexT主题添加文章阅读量统计功能.html（Author：夏末）
			03-topNPost相关的函数
				https://hoxis.github.io/hexo-next-read-rank.html（Author：hoxis）
			04-likes相关的函数，
				参考了01 & 02进行简单的设计与实现
-->


	


<!-- show math formula -->



	




<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
<script src="/plugin/fancybox/jquery.fancybox.js"></script>

<script type="text/javascript">
	var titleID = $('.article-title a'),
		imageID = $('.article-content img'),
		videoID = $('.article-content video');

	var postTitle = titleID.text() ? titleID.text() : "No post title!";

	imageID.each(function() {
		var imgPath = $(this).attr('src'),
			imgTitle = $(this).attr('alt') ? $(this).attr('alt') : "No image description!";

		//给每个匹配的<img>元素打包, 即添加父元素<a>
		$(this).wrap('<a data-fancybox="gallery" data-caption=" 《 ' + postTitle + ' 》 ' + imgTitle + ' "  href=" ' + imgPath + ' "> </a>');
	});

	videoID.each(function() {
		var videoPath = $(this).attr('src');

		//给每个匹配的<img>元素打包, 即添加父元素<a>
		$(this).wrap('<a data-fancybox href=" ' + videoPath + ' "> </a>');
	});
	//TODO：支持html5 video

	if($('#layout-post').length) {
		$('[data-fancybox="gallery"]').fancybox({
			loop: true,
			buttons: [
				"zoom",
				"share",
				"slideShow",
				"fullScreen",
				//"download",
				"thumbs",
				"close"
			],
			protect: false
		});
	}
</script>
		</main>

		<!--footer-->
		<footer>
	<div class="social">
		<ul>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-github"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-weibo"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-pinterest"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-instagram"></i>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<i class="fa fa-twitter"></i>
			</a>
		</li>
	
		<li>
			<a href="/atom.xml" target="_blank">
				<i class="fa fa-rss"></i>
			</a>
		</li>
			
</ul>

	</div>
		
	<div class="copyright">
		<p>
			 
				&copy;2017 - 2019, content by F7ionsy. All Rights Reserved.
			
			
			

	<!-- busuanzi -->
	<!-- busuanzi -->

		
	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	

		<span id="busuanzi_container_page_pv">
	  		本文总阅读量<span id="busuanzi_value_page_pv"></span>次
		</span>

	




		</p>
		<p>
			<a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> Theme <a href="https://github.com/Sariay/hexo-theme-Annie" title="Annie" target="_blank" rel="noopener">Annie</a> by Sariay.
			<a href="javascript:zh_tran('s');" class="zh_click" id="zh_click_s">简体</a> 
			<a href="javascript:zh_tran('t');" class="zh_click" id="zh_click_t">繁體</a>				
		</p>
	</div>		
</footer>
		
	<!-- set '1' to show motto in all pages! -->

	<script src="/plugin/motto/motto.js"></script>
	
	<script type="text/javascript">
		$(".motto").html( getMingYanContent() );
	</script>	





<!-- love effect -->

	<script src="/plugin/love/love.js"></script>


<!-- back to top -->

	
	<div id="totop">
  		<a href="javascript:;"  name="TOTOP" class="fa fa-arrow-up" ></a>
	</div>




<!-- site analysis -->


	<!-- site-analysis -->
	
	
	
	
	
 

<script src="/plugin/vibrant/vibrant.js"></script>
<script src="/plugin/chinese/chinese.js"></script>
<script src="/plugin/imgLazyLoader/yall.min.js"></script>
<script src="/plugin/imgResize/jquery.resizeimagetoparent.min.js"></script>
<script src="/plugin/nicescroll/jquery.nicescroll.js"></script>
<script src="/js/resizediv.js"></script>
<script src="/js/main.js"></script>
	</body>	
</html>